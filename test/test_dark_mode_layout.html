<!DOCTYPE html>
<html lang="zh-CN" data-bs-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>深色模式和布局测试</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
    <style>
        /* 文件处理状态样式 */
        .file-process-item {
            transition: all 0.3s ease;
        }

        .file-process-item.processing {
            background-color: rgba(255, 193, 7, 0.1);
            border-left: 3px solid #ffc107;
        }

        .file-process-item.success {
            background-color: rgba(25, 135, 84, 0.1);
            border-left: 3px solid #198754;
        }

        .file-process-item.error {
            background-color: rgba(220, 53, 69, 0.1);
            border-left: 3px solid #dc3545;
        }

        /* 深色模式适配 */
        [data-bs-theme="dark"] .file-process-item.processing {
            background-color: rgba(255, 193, 7, 0.15);
        }

        [data-bs-theme="dark"] .file-process-item.success {
            background-color: rgba(25, 135, 84, 0.15);
        }

        [data-bs-theme="dark"] .file-process-item.error {
            background-color: rgba(220, 53, 69, 0.15);
        }

        /* 建议名称样式 - 深色模式适配 */
        .suggested-name {
            animation: fadeInUp 0.5s ease;
            background-color: rgba(13, 110, 253, 0.1) !important;
            border: 1px solid rgba(13, 110, 253, 0.2);
        }

        [data-bs-theme="dark"] .suggested-name {
            background-color: rgba(13, 110, 253, 0.15) !important;
            border: 1px solid rgba(13, 110, 253, 0.3);
            color: #e9ecef;
        }

        [data-bs-theme="dark"] .suggested-name .text-primary {
            color: #6ea8fe !important;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* 统计区域样式优化 */
        #statsFooter {
            margin-top: auto;
            border-top: 1px solid rgba(0, 0, 0, 0.125);
        }

        [data-bs-theme="dark"] #statsFooter {
            border-top-color: rgba(255, 255, 255, 0.125);
            background-color: rgba(255, 255, 255, 0.05) !important;
        }

        .container-test {
            height: 100vh;
            padding: 20px;
        }
    </style>
</head>
<body>
    <div class="container-test">
        <div class="d-flex justify-content-between align-items-center mb-3">
            <h3>深色模式和布局测试</h3>
            <button class="btn btn-outline-secondary" onclick="toggleTheme()">
                <i class="bi bi-moon-fill"></i> 切换主题
            </button>
        </div>

        <!-- 文件处理列表 -->
        <div class="card h-75 d-flex flex-column">
            <div class="card-header d-flex justify-content-between align-items-center flex-shrink-0">
                <h6 class="mb-0">
                    <i class="bi bi-list-check me-2 text-primary"></i>
                    文件处理列表
                    <span class="badge bg-secondary ms-2">3</span>
                </h6>
                <div class="btn-group" role="group">
                    <button class="btn btn-sm btn-success">
                        <i class="bi bi-check-all me-1"></i>应用全部
                    </button>
                    <button class="btn btn-sm btn-outline-primary">
                        <i class="bi bi-arrow-clockwise me-1"></i>重新生成
                    </button>
                </div>
            </div>
            
            <!-- 文件列表 - 使用flex-grow-1占满剩余空间 -->
            <div class="flex-grow-1 d-flex flex-column" style="min-height: 0;">
                <div class="flex-grow-1 overflow-auto">
                    <!-- 处理成功的文件 -->
                    <div class="file-process-item border-bottom p-3 success">
                        <div class="d-flex align-items-start">
                            <div class="me-3 mt-1">
                                <i class="bi bi-file-earmark-word fs-4 text-primary"></i>
                            </div>
                            <div class="flex-grow-1">
                                <div class="d-flex align-items-center mb-1">
                                    <span class="fw-medium text-muted">长运福利小程序商城合作协议.docx</span>
                                    <span class="ms-2 badge bg-light text-dark">Word文档</span>
                                    <span class="ms-1 text-muted small">25.96 KB</span>
                                </div>
                                <div class="text-success small mb-1 d-flex align-items-center">
                                    <i class="bi bi-check-circle-fill me-1"></i>
                                    处理完成
                                </div>
                                <div class="suggested-name p-2 rounded">
                                    <div class="text-primary fw-medium">长运福利小程序合作协议</div>
                                    <div class="small text-muted mt-1">置信度: 92%</div>
                                    <div class="small text-muted mt-1"><i class="bi bi-lightbulb me-1"></i>保留了核心信息并简化了名称</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 处理中的文件 -->
                    <div class="file-process-item border-bottom p-3 processing">
                        <div class="d-flex align-items-start">
                            <div class="me-3 mt-1">
                                <i class="bi bi-file-earmark-excel fs-4 text-primary"></i>
                            </div>
                            <div class="flex-grow-1">
                                <div class="d-flex align-items-center mb-1">
                                    <span class="fw-medium">根据店铺地址抓取 (1).xlsx</span>
                                    <span class="ms-2 badge bg-light text-dark">Excel表格</span>
                                    <span class="ms-1 text-muted small">27.14 MB</span>
                                </div>
                                <div class="text-muted small d-flex align-items-center">
                                    <div class="spinner-border spinner-border-sm text-warning me-2" role="status" style="width: 16px; height: 16px;">
                                        <span class="visually-hidden">Loading...</span>
                                    </div>
                                    文件加载中...
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 处理成功的图片文件 -->
                    <div class="file-process-item border-bottom p-3 success">
                        <div class="d-flex align-items-start">
                            <div class="me-3 mt-1">
                                <i class="bi bi-file-earmark-image fs-4 text-primary"></i>
                            </div>
                            <div class="flex-grow-1">
                                <div class="d-flex align-items-center mb-1">
                                    <span class="fw-medium text-muted">DSC00064.JPG</span>
                                    <span class="ms-2 badge bg-light text-dark">图片</span>
                                    <span class="ms-1 text-muted small">17.68 MB</span>
                                </div>
                                <div class="text-success small mb-1 d-flex align-items-center">
                                    <i class="bi bi-check-circle-fill me-1"></i>
                                    处理完成
                                </div>
                                <div class="suggested-name p-2 rounded">
                                    <div class="text-primary fw-medium">生日庆祝蛋糕与微笑的她</div>
                                    <div class="small text-muted mt-1">置信度: 85%</div>
                                    <div class="small text-muted mt-1"><i class="bi bi-lightbulb me-1"></i>基于视觉模型的图片内容分析</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 底部统计信息 - 固定在底部 -->
            <div class="card-footer bg-light flex-shrink-0" id="statsFooter">
                <div class="row text-center">
                    <div class="col-3">
                        <div class="text-success fw-bold">2</div>
                        <small class="text-muted">成功</small>
                    </div>
                    <div class="col-3">
                        <div class="text-danger fw-bold">0</div>
                        <small class="text-muted">失败</small>
                    </div>
                    <div class="col-3">
                        <div class="text-warning fw-bold">1</div>
                        <small class="text-muted">待处理</small>
                    </div>
                    <div class="col-3">
                        <div class="text-info fw-bold">3</div>
                        <small class="text-muted">总计</small>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        function toggleTheme() {
            const html = document.documentElement;
            const currentTheme = html.getAttribute('data-bs-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            html.setAttribute('data-bs-theme', newTheme);
            
            const button = document.querySelector('button[onclick="toggleTheme()"]');
            const icon = button.querySelector('i');
            if (newTheme === 'dark') {
                icon.className = 'bi bi-sun-fill';
                button.innerHTML = '<i class="bi bi-sun-fill"></i> 切换主题';
            } else {
                icon.className = 'bi bi-moon-fill';
                button.innerHTML = '<i class="bi bi-moon-fill"></i> 切换主题';
            }
        }
    </script>
</body>
</html>
